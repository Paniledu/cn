#include <stdio.h>
#include <string.h>
void main() {
    int n, f;
    int ar[100];
    char ack[100];
    int trans[100];
    printf("Enter the sender window size: ");
    scanf("%d", &n);
    printf("Enter number of frames: ");
    scanf("%d", &f);
    printf("The frames are:\n");
    for (int i = 0; i < f; i++) {
        ar[i] = i;
        printf("%d ", ar[i]);
    }
    printf("\n");
    int x = 0, t = 0;
    printf("The initial frames to be transmitted:\n");
    for (int i = 0; i < n && i < f; i++) {
        trans[t] = i;
        printf("%d ", trans[t]);
        t++;
    }
    printf("\n");
    while (x < f) {
        printf("Give the acknowledgment for frame %d (Y/N): ", x);
        scanf(" %c", &ack[x]);
        if (ack[x] == 'Y' || ack[x] == 'y') {
            if (t < f) {
                trans[t] = t;
                t++;
            }
            x++;
        } else {
            printf("Go back to frame %d\n", x);
            printf("The frames to be retransmitted:\n");
            t = x;
            for (int i = 0; i < n && t < f; i++) {
                trans[t] = t;
                printf("%d ", trans[t]);
                t++;
            }
            printf("\n");
        }
    }
    printf("Transmitted Array: ");
    for (int i = 0; i < f; i++) {
        printf("%d ", trans[i]);
    }
    printf("\n");

    printf("Acknowledgment Array: ");
    for (int i = 0; i < f; i++) {
        printf("%c ", ack[i] == '\0' ? 'N' : ack[i]);
    }
    printf("\n");
    printf("Transfer Successful\n");
}
